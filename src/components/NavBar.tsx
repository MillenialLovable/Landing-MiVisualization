import React, { useEffect, useState } from "react";

const NavBar: React.FC = () => {
  const [scrolled, setScrolled] = useState(false);
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 50);
    };
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  const handleNavClick = (
    e: React.MouseEvent<HTMLAnchorElement, MouseEvent>,
    href: string
  ) => {
    const id = href.replace("#", "");
    const el = document.getElementById(id);
    if (el) {
      e.preventDefault();
      el.scrollIntoView({ behavior: "smooth" });
      setIsMenuOpen(false);
    } else if (window.location.pathname !== "/") {
      // Si no existe el elemento y no estamos en la home, redirige a la home con el hash
      window.location.href = "/" + href;
    }
  };

  return (
    <nav
      className={`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${
        scrolled
          ? "bg-gradient-to-r from-[#47AFD1] via-[#2EE0A2] to-[#5F7EFF] bg-opacity-90 backdrop-blur-sm"
          : "bg-transparent"
      }`}
    >
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between">
        {/* Logo que cambia con scroll */}
        <div className="flex items-center space-x-2">
          {scrolled ? (
            <svg
              className="w-[180px] sm:w-[200px] md:w-[220px] lg:w-[237px] h-auto"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 237 43"
              fill="none"
            >
              <path
                d="M23.9356 2.00935C23.9356 0.899615 24.8438 0 25.9641 0H38.9461C40.0664 0 40.9745 0.899615 40.9745 2.00935V40.9907C40.9745 42.1004 40.0664 43 38.9461 43H25.9641C24.8438 43 23.9356 42.1004 23.9356 40.9907V2.00935Z"
                fill="#5F7EFF"
              />
              <path
                d="M12.1706 10.4486C12.1706 9.33887 13.0788 8.43925 14.1991 8.43925H26.7754C27.8957 8.43925 28.8039 9.33887 28.8039 10.4486V40.9907C28.8039 42.1004 27.8957 43 26.7754 43H14.1991C13.0788 43 12.1706 42.1004 12.1706 40.9907V10.4486Z"
                fill="#26B7FF"
              />
              <path
                d="M0 16.0748C0 14.965 0.908164 14.0654 2.02844 14.0654H15.0105C16.1307 14.0654 17.0389 14.965 17.0389 16.0748V40.9907C17.0389 42.1004 16.1307 43 15.0105 43H2.02844C0.908165 43 0 42.1004 0 40.9907V16.0748Z"
                fill="#2EE0A2"
              />
              <path
                d="M62.1661 23.1879C62.2833 23.4065 62.3902 23.6353 62.4867 23.8744C62.5902 24.1067 62.6902 24.3424 62.7868 24.5815C62.8833 24.3356 62.9833 24.0931 63.0868 23.8539C63.1902 23.6148 63.3006 23.386 63.4178 23.1674L67.8455 14.959C67.9007 14.8565 67.9558 14.7745 68.011 14.713C68.0731 14.6515 68.1386 14.6071 68.2076 14.5798C68.2834 14.5525 68.3662 14.5354 68.4558 14.5286C68.5455 14.5217 68.6524 14.5183 68.7765 14.5183H70.8766V29.3364H68.4248V19.7651C68.4248 19.5875 68.4283 19.3928 68.4351 19.181C68.4489 18.9692 68.4662 18.754 68.4869 18.5354L63.9661 26.9385C63.8626 27.1298 63.7282 27.2801 63.5626 27.3894C63.3971 27.4919 63.204 27.5431 62.9833 27.5431H62.6005C62.3799 27.5431 62.1867 27.4919 62.0212 27.3894C61.8557 27.2801 61.7212 27.1298 61.6178 26.9385L57.0349 18.5047C57.0625 18.7301 57.0797 18.9521 57.0866 19.1708C57.1004 19.3826 57.1073 19.5807 57.1073 19.7651V29.3364H54.6555V14.5183H56.7556C56.8797 14.5183 56.9866 14.5217 57.0763 14.5286C57.1659 14.5354 57.2453 14.5525 57.3142 14.5798C57.3901 14.6071 57.4591 14.6515 57.5211 14.713C57.5832 14.7745 57.6418 14.8565 57.697 14.959L62.1661 23.1879Z"
                fill="#000E29"
              />
              <path
                d="M77.0254 29.3364H74.2323V14.5183H77.0254V29.3364Z"
                fill="#000E29"
              />
              <path
                d="M82.9286 14.5183H85.1734C85.4148 14.5183 85.6114 14.5764 85.7631 14.6925C85.9148 14.8087 86.0286 14.959 86.1045 15.1434L89.6218 24.1819C89.7391 24.4756 89.8494 24.8001 89.9529 25.1554C90.0632 25.5038 90.1667 25.8727 90.2632 26.2621C90.4218 25.4765 90.6184 24.7831 90.8529 24.1819L94.3598 15.1434C94.4219 14.9863 94.5323 14.8428 94.6909 14.713C94.8495 14.5832 95.0461 14.5183 95.2806 14.5183H97.5254L91.4839 29.3364H88.9701L82.9286 14.5183Z"
                fill="#000E29"
              />
              <path
                d="M102.221 29.3364H99.4281V14.5183H102.221V29.3364Z"
                fill="#000E29"
              />
              <path
                d="M113.61 17.2135C113.534 17.3638 113.445 17.4697 113.341 17.5311C113.245 17.5926 113.127 17.6234 112.99 17.6234C112.852 17.6234 112.696 17.5721 112.524 17.4697C112.352 17.3603 112.148 17.2408 111.914 17.111C111.679 16.9812 111.403 16.865 111.086 16.7626C110.776 16.6533 110.407 16.5986 109.979 16.5986C109.593 16.5986 109.255 16.6464 108.965 16.7421C108.683 16.8309 108.441 16.9573 108.241 17.1212C108.048 17.2852 107.903 17.4833 107.807 17.7156C107.71 17.941 107.662 18.1904 107.662 18.4637C107.662 18.8121 107.758 19.1024 107.951 19.3347C108.151 19.567 108.414 19.7651 108.738 19.9291C109.062 20.0931 109.431 20.2399 109.845 20.3697C110.258 20.4995 110.679 20.6396 111.107 20.7899C111.541 20.9334 111.965 21.1042 112.379 21.3023C112.793 21.4936 113.162 21.7395 113.486 22.0401C113.81 22.3339 114.069 22.696 114.262 23.1264C114.462 23.5568 114.562 24.0794 114.562 24.6943C114.562 25.3638 114.445 25.9923 114.21 26.5798C113.983 27.1605 113.645 27.6695 113.196 28.1067C112.755 28.5371 112.214 28.8787 111.572 29.1315C110.931 29.3774 110.196 29.5004 109.369 29.5004C108.893 29.5004 108.424 29.4526 107.962 29.3569C107.5 29.2681 107.055 29.1383 106.627 28.9675C106.207 28.7967 105.81 28.5918 105.438 28.3527C105.072 28.1136 104.745 27.8471 104.455 27.5534L105.262 26.2314C105.338 26.1358 105.427 26.0572 105.531 25.9957C105.641 25.9274 105.762 25.8932 105.893 25.8932C106.065 25.8932 106.251 25.965 106.451 26.1084C106.651 26.2451 106.886 26.3988 107.155 26.5696C107.431 26.7404 107.751 26.8975 108.117 27.041C108.489 27.1776 108.934 27.2459 109.452 27.2459C110.245 27.2459 110.858 27.0615 111.293 26.6925C111.727 26.3168 111.945 25.7805 111.945 25.0837C111.945 24.6943 111.845 24.3766 111.645 24.1306C111.452 23.8847 111.193 23.6797 110.869 23.5158C110.545 23.345 110.176 23.2015 109.762 23.0854C109.348 22.9692 108.927 22.8428 108.5 22.7062C108.072 22.5696 107.651 22.4056 107.238 22.2143C106.824 22.023 106.455 21.7737 106.131 21.4662C105.807 21.1588 105.545 20.7762 105.345 20.3185C105.151 19.8539 105.055 19.2835 105.055 18.6071C105.055 18.0674 105.162 17.5414 105.376 17.029C105.596 16.5166 105.913 16.0623 106.327 15.6661C106.748 15.2698 107.262 14.9521 107.869 14.713C108.476 14.4739 109.169 14.3544 109.948 14.3544C110.831 14.3544 111.645 14.491 112.389 14.7643C113.134 15.0375 113.769 15.4201 114.293 15.912L113.61 17.2135Z"
                fill="#000E29"
              />
              <path
                d="M122.706 27.1127C123.244 27.1127 123.724 27.0239 124.144 26.8463C124.572 26.6686 124.93 26.4193 125.22 26.0982C125.517 25.7771 125.741 25.3877 125.893 24.93C126.051 24.4722 126.13 23.9598 126.13 23.3928V14.5183H128.913V23.3928C128.913 24.2741 128.768 25.0905 128.479 25.842C128.196 26.5867 127.786 27.2323 127.248 27.7788C126.71 28.3185 126.058 28.7421 125.293 29.0495C124.527 29.3501 123.665 29.5004 122.706 29.5004C121.748 29.5004 120.886 29.3501 120.12 29.0495C119.354 28.7421 118.703 28.3185 118.165 27.7788C117.634 27.2323 117.223 26.5867 116.934 25.842C116.651 25.0905 116.51 24.2741 116.51 23.3928V14.5183H119.292V23.3826C119.292 23.9496 119.368 24.462 119.52 24.9197C119.679 25.3774 119.903 25.7703 120.192 26.0982C120.482 26.4193 120.837 26.6686 121.258 26.8463C121.686 27.0239 122.168 27.1127 122.706 27.1127Z"
                fill="#000E29"
              />
              <path
                d="M144.341 29.3364H142.19C141.948 29.3364 141.748 29.2784 141.59 29.1622C141.438 29.0393 141.327 28.889 141.258 28.7113L140.141 25.6883H133.945L132.827 28.7113C132.772 28.8685 132.662 29.0119 132.496 29.1417C132.338 29.2715 132.141 29.3364 131.907 29.3364H129.744L135.62 14.5183H138.465L144.341 29.3364ZM134.658 23.7412H139.427L137.607 18.8121C137.524 18.5935 137.431 18.3373 137.327 18.0435C137.231 17.7429 137.134 17.4184 137.038 17.07C136.941 17.4184 136.845 17.7429 136.748 18.0435C136.658 18.3441 136.569 18.6071 136.479 18.8326L134.658 23.7412Z"
                fill="#000E29"
              />
              <path
                d="M148.665 27.0615H154.655V29.3364H145.882V14.5183H148.665V27.0615Z"
                fill="#000E29"
              />
              <path
                d="M159.705 29.3364H156.912V14.5183H159.705V29.3364Z"
                fill="#000E29"
              />
              <path
                d="M173.763 14.5183V15.5328C173.763 15.8471 173.673 16.134 173.494 16.3936L165.818 27.1332H173.577V29.3364H162.208V28.2502C162.208 28.1136 162.232 27.9838 162.28 27.8608C162.328 27.731 162.39 27.6114 162.466 27.5021L170.163 16.7113H162.694V14.5183H173.763Z"
                fill="#000E29"
              />
              <path
                d="M188.995 29.3364H186.843C186.602 29.3364 186.402 29.2784 186.243 29.1622C186.091 29.0393 185.981 28.889 185.912 28.7113L184.795 25.6883H178.598L177.481 28.7113C177.426 28.8685 177.315 29.0119 177.15 29.1417C176.991 29.2715 176.795 29.3364 176.56 29.3364H174.398L180.274 14.5183H183.119L188.995 29.3364ZM179.312 23.7412H184.081L182.26 18.8121C182.177 18.5935 182.084 18.3373 181.981 18.0435C181.884 17.7429 181.788 17.4184 181.691 17.07C181.595 17.4184 181.498 17.7429 181.401 18.0435C181.312 18.3441 181.222 18.6071 181.133 18.8326L179.312 23.7412Z"
                fill="#000E29"
              />
              <path
                d="M199.562 14.5183V16.7831H195.061V29.3364H192.279V16.7831H187.758V14.5183H199.562Z"
                fill="#000E29"
              />
              <path
                d="M204.459 29.3364H201.666V14.5183H204.459V29.3364Z"
                fill="#000E29"
              />
              <path
                d="M222.18 21.9274C222.18 23.0136 221.997 24.0213 221.631 24.9504C221.266 25.8727 220.752 26.6721 220.09 27.3484C219.428 28.0247 218.631 28.5542 217.7 28.9368C216.769 29.3125 215.738 29.5004 214.607 29.5004C213.476 29.5004 212.441 29.3125 211.503 28.9368C210.572 28.5542 209.772 28.0247 209.103 27.3484C208.441 26.6721 207.928 25.8727 207.562 24.9504C207.197 24.0213 207.014 23.0136 207.014 21.9274C207.014 20.8411 207.197 19.8369 207.562 18.9146C207.928 17.9855 208.441 17.1827 209.103 16.5064C209.772 15.83 210.572 15.304 211.503 14.9282C212.441 14.5457 213.476 14.3544 214.607 14.3544C215.738 14.3544 216.769 14.5457 217.7 14.9282C218.631 15.3108 219.428 15.8403 220.09 16.5166C220.752 17.1861 221.266 17.9855 221.631 18.9146C221.997 19.8369 222.18 20.8411 222.18 21.9274ZM219.324 21.9274C219.324 21.1144 219.214 20.3868 218.993 19.7446C218.78 19.0956 218.469 18.5457 218.062 18.0948C217.655 17.6439 217.159 17.2989 216.573 17.0597C215.993 16.8206 215.338 16.7011 214.607 16.7011C213.876 16.7011 213.217 16.8206 212.631 17.0597C212.045 17.2989 211.545 17.6439 211.131 18.0948C210.724 18.5457 210.41 19.0956 210.19 19.7446C209.969 20.3868 209.859 21.1144 209.859 21.9274C209.859 22.7404 209.969 23.4714 210.19 24.1204C210.41 24.7626 210.724 25.3091 211.131 25.76C211.545 26.2041 212.045 26.5457 212.631 26.7848C213.217 27.0239 213.876 27.1434 214.607 27.1434C215.338 27.1434 215.993 27.0239 216.573 26.7848C217.159 26.5457 217.655 26.2041 218.062 25.76C218.469 25.3091 218.78 24.7626 218.993 24.1204C219.214 23.4714 219.324 22.7404 219.324 21.9274Z"
                fill="#000E29"
              />
              <path
                d="M225.838 14.5183C225.962 14.5183 226.065 14.5252 226.148 14.5388C226.231 14.5457 226.303 14.5661 226.365 14.6003C226.434 14.6276 226.5 14.672 226.562 14.7335C226.624 14.7882 226.693 14.8633 226.769 14.959L234.621 24.8685C234.593 24.6294 234.572 24.3971 234.559 24.1716C234.552 23.9393 234.548 23.7241 234.548 23.526V14.5183H237V29.3364H235.562C235.341 29.3364 235.159 29.3023 235.014 29.234C234.869 29.1657 234.728 29.0427 234.59 28.8651L226.769 18.9966C226.789 19.2152 226.803 19.4338 226.81 19.6524C226.824 19.8642 226.831 20.0589 226.831 20.2365V29.3364H224.379V14.5183H225.838Z"
                fill="#000E29"
              />
            </svg>
          ) : (
            <svg
              className="w-[175px] sm:w-[190px] md:w-[210px] lg:w-[230px] h-auto"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 230 42"
              fill="none"
            >
              <path
                d="M23.2287 1.96262C23.2287 0.878693 24.11 0 25.1972 0H37.7958C38.883 0 39.7643 0.878694 39.7643 1.96262V40.0374C39.7643 41.1213 38.883 42 37.7958 42H25.1972C24.11 42 23.2287 41.1213 23.2287 40.0374V1.96262Z"
                fill="white"
                fill-opacity="0.8"
              />
              <path
                d="M11.8112 10.2056C11.8112 9.12169 12.6925 8.24299 13.7797 8.24299H25.9846C27.0718 8.24299 27.9531 9.12168 27.9531 10.2056V40.0374C27.9531 41.1213 27.0718 42 25.9846 42H13.7797C12.6925 42 11.8112 41.1213 11.8112 40.0374V10.2056Z"
                fill="#ECECEC"
              />
              <path
                d="M0 15.7009C0 14.617 0.881341 13.7383 1.96853 13.7383H14.5671C15.6543 13.7383 16.5356 14.617 16.5356 15.7009V40.0374C16.5356 41.1213 15.6543 42 14.5671 42H1.96853C0.881341 42 0 41.1213 0 40.0374V15.7009Z"
                fill="white"
              />
              <path
                d="M60.3299 22.6486C60.4437 22.8621 60.5474 23.0857 60.6411 23.3192C60.7415 23.5461 60.8386 23.7763 60.9323 24.0099C61.026 23.7696 61.123 23.5328 61.2234 23.2992C61.3238 23.0657 61.4309 22.8421 61.5447 22.6286L65.8416 14.6111C65.8952 14.511 65.9487 14.4309 66.0022 14.3709C66.0625 14.3108 66.1261 14.2674 66.193 14.2407C66.2666 14.2141 66.3469 14.1974 66.4339 14.1907C66.521 14.184 66.6247 14.1807 66.7452 14.1807H68.7832V28.6542H66.4038V19.3055C66.4038 19.132 66.4072 18.9418 66.4139 18.7349C66.4272 18.5281 66.444 18.3179 66.4641 18.1044L62.0768 26.312C61.9764 26.4989 61.8459 26.6457 61.6853 26.7524C61.5246 26.8525 61.3372 26.9026 61.123 26.9026H60.7516C60.5374 26.9026 60.35 26.8525 60.1894 26.7524C60.0287 26.6457 59.8982 26.4989 59.7978 26.312L55.3503 18.0743C55.3771 18.2945 55.3938 18.5114 55.4005 18.7249C55.4139 18.9318 55.4206 19.1253 55.4206 19.3055V28.6542H53.0412V14.1807H55.0793C55.1997 14.1807 55.3035 14.184 55.3905 14.1907C55.4775 14.1974 55.5545 14.2141 55.6214 14.2407C55.695 14.2674 55.7619 14.3108 55.8222 14.3709C55.8824 14.4309 55.9393 14.511 55.9929 14.6111L60.3299 22.6486Z"
                fill="white"
              />
              <path
                d="M74.7504 28.6542H72.0397V14.1807H74.7504V28.6542Z"
                fill="white"
              />
              <path
                d="M80.4792 14.1807H82.6578C82.892 14.1807 83.0828 14.2374 83.23 14.3509C83.3773 14.4643 83.4877 14.6111 83.5613 14.7913L86.9748 23.6195C87.0885 23.9064 87.1956 24.2234 87.296 24.5704C87.4031 24.9107 87.5035 25.271 87.5972 25.6514C87.7512 24.884 87.9419 24.2067 88.1695 23.6195L91.5728 14.7913C91.6331 14.6378 91.7402 14.4977 91.8941 14.3709C92.0481 14.2441 92.2388 14.1807 92.4664 14.1807H94.6449L88.7819 28.6542H86.3423L80.4792 14.1807Z"
                fill="white"
              />
              <path
                d="M99.2021 28.6542H96.4914V14.1807H99.2021V28.6542Z"
                fill="white"
              />
              <path
                d="M110.255 16.8131C110.181 16.96 110.094 17.0634 109.994 17.1234C109.9 17.1835 109.786 17.2135 109.652 17.2135C109.518 17.2135 109.368 17.1635 109.2 17.0634C109.033 16.9566 108.836 16.8398 108.608 16.7131C108.381 16.5863 108.113 16.4728 107.805 16.3727C107.504 16.266 107.146 16.2126 106.731 16.2126C106.356 16.2126 106.028 16.2593 105.747 16.3527C105.472 16.4395 105.238 16.5629 105.044 16.7231C104.857 16.8832 104.716 17.0767 104.622 17.3036C104.529 17.5238 104.482 17.7674 104.482 18.0343C104.482 18.3746 104.576 18.6582 104.763 18.8851C104.957 19.112 105.211 19.3055 105.526 19.4656C105.841 19.6258 106.199 19.7692 106.6 19.896C107.002 20.0228 107.41 20.1596 107.825 20.3064C108.247 20.4465 108.658 20.6134 109.06 20.8069C109.462 20.9937 109.82 21.2339 110.134 21.5276C110.449 21.8145 110.7 22.1681 110.887 22.5885C111.081 23.0089 111.178 23.5194 111.178 24.12C111.178 24.7739 111.064 25.3878 110.837 25.9617C110.616 26.5289 110.288 27.026 109.853 27.4531C109.425 27.8735 108.899 28.2071 108.277 28.454C107.654 28.6942 106.942 28.8144 106.138 28.8144C105.677 28.8144 105.222 28.7676 104.773 28.6742C104.325 28.5875 103.893 28.4607 103.478 28.2939C103.07 28.127 102.685 27.9269 102.323 27.6933C101.969 27.4598 101.651 27.1995 101.37 26.9126L102.153 25.6214C102.226 25.528 102.313 25.4512 102.414 25.3912C102.521 25.3244 102.638 25.2911 102.765 25.2911C102.932 25.2911 103.113 25.3611 103.307 25.5013C103.501 25.6347 103.729 25.7849 103.99 25.9517C104.258 26.1185 104.569 26.272 104.924 26.4121C105.285 26.5456 105.717 26.6123 106.219 26.6123C106.988 26.6123 107.584 26.4321 108.006 26.0718C108.427 25.7048 108.638 25.181 108.638 24.5003C108.638 24.12 108.541 23.8097 108.347 23.5695C108.16 23.3292 107.909 23.129 107.594 22.9689C107.28 22.8021 106.922 22.6619 106.52 22.5485C106.118 22.4351 105.71 22.3116 105.295 22.1782C104.88 22.0447 104.472 21.8846 104.07 21.6977C103.669 21.5109 103.311 21.2673 102.996 20.967C102.682 20.6667 102.427 20.2931 102.233 19.846C102.046 19.3922 101.952 18.835 101.952 18.1744C101.952 17.6473 102.056 17.1334 102.263 16.633C102.477 16.1325 102.785 15.6888 103.187 15.3017C103.595 14.9147 104.094 14.6044 104.683 14.3709C105.272 14.1373 105.944 14.0205 106.701 14.0205C107.557 14.0205 108.347 14.154 109.07 14.4209C109.793 14.6878 110.409 15.0615 110.917 15.542L110.255 16.8131Z"
                fill="white"
              />
              <path
                d="M119.082 26.4822C119.604 26.4822 120.069 26.3954 120.478 26.2219C120.892 26.0484 121.241 25.8049 121.522 25.4913C121.809 25.1776 122.027 24.7973 122.174 24.3502C122.328 23.9031 122.405 23.4026 122.405 22.8488V14.1807H125.106V22.8488C125.106 23.7096 124.965 24.507 124.684 25.241C124.41 25.9684 124.011 26.599 123.489 27.1328C122.967 27.6599 122.335 28.0737 121.592 28.3739C120.849 28.6676 120.012 28.8144 119.082 28.8144C118.152 28.8144 117.315 28.6676 116.572 28.3739C115.829 28.0737 115.197 27.6599 114.675 27.1328C114.159 26.599 113.761 25.9684 113.48 25.241C113.206 24.507 113.068 23.7096 113.068 22.8488V14.1807H115.769V22.8388C115.769 23.3926 115.843 23.8931 115.99 24.3402C116.144 24.7873 116.361 25.171 116.642 25.4913C116.924 25.8049 117.268 26.0484 117.676 26.2219C118.091 26.3954 118.56 26.4822 119.082 26.4822Z"
                fill="white"
              />
              <path
                d="M140.078 28.6542H137.99C137.756 28.6542 137.562 28.5975 137.408 28.484C137.26 28.3639 137.153 28.2171 137.086 28.0436L136.002 25.0909H129.988L128.904 28.0436C128.851 28.1971 128.743 28.3372 128.583 28.464C128.429 28.5908 128.238 28.6542 128.011 28.6542H125.912L131.615 14.1807H134.376L140.078 28.6542ZM130.681 23.1891H135.309L133.542 18.3746C133.462 18.1611 133.372 17.9108 133.271 17.6239C133.178 17.3303 133.084 17.0133 132.99 16.673C132.896 17.0133 132.803 17.3303 132.709 17.6239C132.622 17.9175 132.535 18.1744 132.448 18.3946L130.681 23.1891Z"
                fill="white"
              />
              <path
                d="M144.274 26.4321H150.087V28.6542H141.573V14.1807H144.274V26.4321Z"
                fill="white"
              />
              <path
                d="M154.988 28.6542H152.277V14.1807H154.988V28.6542Z"
                fill="white"
              />
              <path
                d="M168.631 14.1807V15.1716C168.631 15.4786 168.544 15.7588 168.37 16.0124L160.92 26.5022H168.45V28.6542H157.417V27.5932C157.417 27.4598 157.44 27.333 157.487 27.2129C157.534 27.0861 157.594 26.9693 157.668 26.8625L165.137 16.3227H157.888V14.1807H168.631Z"
                fill="white"
              />
              <path
                d="M183.413 28.6542H181.324C181.09 28.6542 180.896 28.5975 180.742 28.484C180.595 28.3639 180.488 28.2171 180.421 28.0436L179.337 25.0909H173.323L172.239 28.0436C172.185 28.1971 172.078 28.3372 171.917 28.464C171.763 28.5908 171.573 28.6542 171.345 28.6542H169.247L174.949 14.1807H177.71L183.413 28.6542ZM174.016 23.1891H178.644L176.877 18.3746C176.797 18.1611 176.706 17.9108 176.606 17.6239C176.512 17.3303 176.418 17.0133 176.325 16.673C176.231 17.0133 176.137 17.3303 176.044 17.6239C175.957 17.9175 175.87 18.1744 175.783 18.3946L174.016 23.1891Z"
                fill="white"
              />
              <path
                d="M193.667 14.1807V16.3928H189.3V28.6542H186.6V16.3928H182.212V14.1807H193.667Z"
                fill="white"
              />
              <path
                d="M198.421 28.6542H195.71V14.1807H198.421V28.6542Z"
                fill="white"
              />
              <path
                d="M215.617 21.4174C215.617 22.4784 215.44 23.4627 215.085 24.3702C214.73 25.271 214.232 26.0518 213.589 26.7124C212.947 27.373 212.174 27.8902 211.27 28.2638C210.367 28.6309 209.366 28.8144 208.268 28.8144C207.171 28.8144 206.167 28.6309 205.257 28.2638C204.353 27.8902 203.577 27.373 202.927 26.7124C202.285 26.0518 201.786 25.271 201.432 24.3702C201.077 23.4627 200.899 22.4784 200.899 21.4174C200.899 20.3565 201.077 19.3755 201.432 18.4747C201.786 17.5672 202.285 16.7831 202.927 16.1225C203.577 15.4619 204.353 14.9481 205.257 14.5811C206.167 14.2074 207.171 14.0205 208.268 14.0205C209.366 14.0205 210.367 14.2074 211.27 14.5811C212.174 14.9547 212.947 15.4719 213.589 16.1325C214.232 16.7865 214.73 17.5672 215.085 18.4747C215.44 19.3755 215.617 20.3565 215.617 21.4174ZM212.846 21.4174C212.846 20.6234 212.739 19.9127 212.525 19.2855C212.318 18.6515 212.016 18.1144 211.622 17.674C211.227 17.2335 210.745 16.8966 210.176 16.663C209.614 16.4295 208.978 16.3127 208.268 16.3127C207.559 16.3127 206.92 16.4295 206.351 16.663C205.782 16.8966 205.297 17.2335 204.895 17.674C204.5 18.1144 204.196 18.6515 203.982 19.2855C203.767 19.9127 203.66 20.6234 203.66 21.4174C203.66 22.2115 203.767 22.9255 203.982 23.5595C204.196 24.1867 204.5 24.7205 204.895 25.1609C205.297 25.5947 205.782 25.9283 206.351 26.1619C206.92 26.3954 207.559 26.5122 208.268 26.5122C208.978 26.5122 209.614 26.3954 210.176 26.1619C210.745 25.9283 211.227 25.5947 211.622 25.1609C212.016 24.7205 212.318 24.1867 212.525 23.5595C212.739 22.9255 212.846 22.2115 212.846 21.4174Z"
                fill="white"
              />
              <path
                d="M219.167 14.1807C219.288 14.1807 219.388 14.1874 219.469 14.2007C219.549 14.2074 219.619 14.2274 219.679 14.2608C219.746 14.2875 219.81 14.3308 219.87 14.3909C219.93 14.4443 219.997 14.5177 220.071 14.6111L227.691 24.2901C227.664 24.0566 227.644 23.8297 227.631 23.6095C227.624 23.3826 227.621 23.1724 227.621 22.9789V14.1807H230V28.6542H228.605C228.39 28.6542 228.213 28.6208 228.072 28.5541C227.932 28.4874 227.795 28.3673 227.661 28.1938L220.071 18.5548C220.091 18.7683 220.104 18.9818 220.111 19.1954C220.124 19.4022 220.131 19.5924 220.131 19.7659V28.6542H217.752V14.1807H219.167Z"
                fill="white"
              />
            </svg>
          )}
        </div>

        {/* Botón de hamburguesa para móvil y tablet */}
        <button
          onClick={toggleMenu}
          className="lg:hidden text-white p-2"
          aria-label="Toggle menu"
        >
          <svg
            className="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            {isMenuOpen ? (
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M6 18L18 6M6 6l12 12"
              />
            ) : (
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M4 6h16M4 12h16M4 18h16"
              />
            )}
          </svg>
        </button>

        {/* Links de navegación - Desktop */}
        <ul className="hidden lg:flex lg:space-x-4 xl:space-x-8 text-sm font-medium text-white">
          <li>
            <a
              href="#home"
              onClick={e => handleNavClick(e, "#home")}
              className="hover:text-blue-300 transition-colors text-base"
            >
              Inicio
            </a>
          </li>
          <li>
            <a
              href="#powerbi"
              onClick={e => handleNavClick(e, "#powerbi")}
              className="hover:text-blue-300 transition-colors text-base"
            >
              ¿Qué es el Mi Visualization?
            </a>
          </li>
          <li>
            <a
              href="#bigenerativo"
              onClick={e => handleNavClick(e, "#bigenerativo")}
              className="hover:text-blue-300 transition-colors text-base"
            >
              Bi Generativo
            </a>
          </li>
          <li>
            <a
              href="#demo"
              onClick={e => handleNavClick(e, "#demo")}
              className="hover:text-blue-300 transition-colors text-base"
            >
              Demo
            </a>
          </li>
          <li>
            <a
              href="#seguridad"
              onClick={e => handleNavClick(e, "#seguridad")}
              className="hover:text-blue-300 transition-colors text-base"
            >
              Seguridad
            </a>
          </li>
        </ul>

        {/* Menú móvil y tablet */}
        <div
          className={`lg:hidden fixed top-0 left-0 w-full h-screen bg-gradient-to-r from-[#47AFD1] via-[#2EE0A2] to-[#5F7EFF] transform transition-transform duration-300 ease-in-out ${
            isMenuOpen ? "translate-x-0" : "translate-x-full"
          }`}
        >
          <div className="flex flex-col items-center justify-center h-full space-y-8">
            <button
              onClick={toggleMenu}
              className="absolute top-4 right-4 text-white p-2"
              aria-label="Close menu"
            >
              <svg
                className="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
            <ul className="flex flex-col items-center space-y-6 text-lg font-medium text-white">
              <li>
                <a
                  href="#home"
                  onClick={e => handleNavClick(e, "#home")}
                  className="hover:text-blue-300 transition-colors text-xl md:text-2xl"
                >
                  Inicio
                </a>
              </li>
              <li>
                <a
                  href="#powerbi"
                  onClick={e => handleNavClick(e, "#powerbi")}
                  className="hover:text-blue-300 transition-colors text-xl md:text-2xl"
                >
                  ¿Qué es el Mi Visualization?
                </a>
              </li>
              <li>
                <a
                  href="#services"
                  onClick={e => handleNavClick(e, "#services")}
                  className="hover:text-blue-300 transition-colors text-xl md:text-2xl"
                >
                  Bi Generativo
                </a>
              </li>
              <li>
                <a
                  href="#portfolio"
                  onClick={e => handleNavClick(e, "#portfolio")}
                  className="hover:text-blue-300 transition-colors text-xl md:text-2xl"
                >
                  Demo
                </a>
              </li>
              <li>
                <a
                  href="#contact"
                  onClick={e => handleNavClick(e, "#contact")}
                  className="hover:text-blue-300 transition-colors text-xl md:text-2xl"
                >
                  Sobre Nosotros
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
  );
};

// Botón flotante de WhatsApp
const whatsappNumber = "51975113510";
const whatsappMessage =
  "¡Hola! 👋😃 Me encantaría obtener más información o una demo de Mi Visualization. 📊✨ ¿Podrías ayudarme? ¡Gracias! 🙌";
const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(
  whatsappMessage
)}`;

const WhatsAppButton = () => (
  <a
    href={whatsappUrl}
    target="_blank"
    rel="noopener noreferrer"
    className="fixed bottom-6 right-6 z-50 group"
    aria-label="Chatea por WhatsApp"
  >
    <span
      className="flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20
      transition-transform duration-300 group-hover:scale-110 group-active:scale-95 animate-bounce"
    >
      {/* SVG de WhatsApp responsive */}
      <svg
        className="w-10 h-10 sm:w-12 sm:h-12 md:w-16 md:h-16"
        viewBox="-2.73 0 1225.016 1225.016"
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
      >
        <path
          fill="#E0E0E0"
          d="M1041.858 178.02C927.206 63.289 774.753.07 612.325 0 277.617 0 5.232 272.298 5.098 606.991c-.039 106.986 27.915 211.42 81.048 303.476L0 1225.016l321.898-84.406c88.689 48.368 188.547 73.855 290.166 73.896h.258.003c334.654 0 607.08-272.346 607.222-607.023.056-162.208-63.052-314.724-177.689-429.463zm-429.533 933.963h-.197c-90.578-.048-179.402-24.366-256.878-70.339l-18.438-10.93-191.021 50.083 51-186.176-12.013-19.087c-50.525-80.336-77.198-173.175-77.16-268.504.111-278.186 226.507-504.503 504.898-504.503 134.812.056 261.519 52.604 356.814 147.965 95.289 95.36 147.728 222.128 147.688 356.948-.118 278.195-226.522 504.543-504.693 504.543z"
        />
        <linearGradient
          id="a"
          gradientUnits="userSpaceOnUse"
          x1="609.77"
          y1="1190.114"
          x2="609.77"
          y2="21.084"
        >
          <stop offset="0" stopColor="#20b038" />
          <stop offset="1" stopColor="#60d66a" />
        </linearGradient>
        <path
          fill="url(#a)"
          d="M27.875 1190.114l82.211-300.18c-50.719-87.852-77.391-187.523-77.359-289.602.133-319.398 260.078-579.25 579.469-579.25 155.016.07 300.508 60.398 409.898 169.891 109.414 109.492 169.633 255.031 169.57 409.812-.133 319.406-260.094 579.281-579.445 579.281-.023 0 .016 0 0 0h-.258c-96.977-.031-192.266-24.375-276.898-70.5l-307.188 80.548z"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          fill="#FFF"
          d="M462.273 349.294c-11.234-24.977-23.062-25.477-33.75-25.914-8.742-.375-18.75-.352-28.742-.352-10 0-26.25 3.758-39.992 18.766-13.75 15.008-52.5 51.289-52.5 125.078 0 73.797 53.75 145.102 61.242 155.117 7.5 10 103.758 166.266 256.203 226.383 126.695 49.961 152.477 40.023 179.977 37.523s88.734-36.273 101.234-71.297c12.5-35.016 12.5-65.031 8.75-71.305-3.75-6.25-13.75-10-28.75-17.5s-88.734-43.789-102.484-48.789-23.75-7.5-33.75 7.516c-10 15-38.727 48.773-47.477 58.773-8.75 10.023-17.5 11.273-32.5 3.773-15-7.523-63.305-23.344-120.609-74.438-44.586-39.75-74.688-88.844-83.438-103.859-8.75-15-.938-23.125 6.586-30.602 6.734-6.719 15-17.508 22.5-26.266 7.484-8.758 9.984-15.008 14.984-25.008 5-10.016 2.5-18.773-1.25-26.273s-32.898-81.67-46.234-111.326z"
        />
        <path
          fill="#FFF"
          d="M1036.898 176.091C923.562 62.677 772.859.185 612.297.114 281.43.114 12.172 269.286 12.039 600.137 12 705.896 39.633 809.13 92.156 900.13L7 1211.067l318.203-83.438c87.672 47.812 186.383 73.008 286.836 73.047h.255.003c330.812 0 600.109-269.219 600.25-600.055.055-160.343-62.328-311.108-175.649-424.53zm-424.601 923.242h-.195c-89.539-.047-177.344-24.086-253.93-69.531l-18.227-10.805-188.828 49.508 50.414-184.039-11.875-18.867c-49.945-79.414-76.312-171.188-76.273-265.422.109-274.992 223.906-498.711 499.102-498.711 133.266.055 258.516 52 352.719 146.266 94.195 94.266 146.031 219.578 145.992 352.852-.118 274.999-223.923 498.749-498.899 498.749z"
        />
      </svg>
    </span>
  </a>
);

const NavBarWithWhatsApp = () => (
  <>
    <NavBar />
    <WhatsAppButton />
  </>
);

export default NavBarWithWhatsApp;
